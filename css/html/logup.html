<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>乐视 - 注册</title>
	<link rel="shortcut icon" href="../images/favicon.ico">
	<link rel="stylesheet" href="../css/login.css">
</head>
<body>
	<header class="header">
		<div class="h-box">
			<div class="logo">
				<img src="../images/loglogo.png" alt="">
			</div>
			<div class="nav">
				<ul>
					<li>语言：</li>
					<li><a href="#">简体中文</a></li><span>|</span>
					<li>国家/地区：</li>
					<li><a href="#">中国</a></li><span>|</span>
					<li><a href="#">帮助</a></li>
				</ul>
			</div>
		</div>
	</header>
	<section class="section">
		<div class="s-center">
			<div class="sc-login">
				<div class="scl-box4">
					<span class="box4-top">
						<i>注册</i>
						<a href="../html/login.html">立即登录</a>
					</span>
					<p id="box4p">请输入正确的手机号</p>
					<form action="../index.html">
						<div class="box4-user">
							<input type="text" autocomplete="off" placeholder="手机号" id="user">
							<span id="userimg"></span>
						</div>
						<input type="password" class="box4-pad" placeholder="密码" id="pad">
						<div class="box4-code">
							<input type="text" autocomplete="off" placeholder="输入验证码，点击图片更换" id="code">
							<span></span>
						</div>
						<div class="box4-mess">
							<input type="text" autocomplete="off" placeholder="6位验证码" id="mess">
							<button>获取验证码</button>
						</div>
						<div class="box4-check">
							<input type="checkbox">
							<span>我已阅读并同意<a href="#">乐视用户协议</a></span>
						</div>
						<button id="logup">注&nbsp;&nbsp;&nbsp;&nbsp;册</button>
					</form>
				</div>
				<!-- 注册界面完 -->
			</div>
		</div>
	</section>
	<script>
		function fx(a){
			return document.getElementById(a);
		}
		//表单获得焦点时
		fx("user").onfocus = function(){
			fx("user").style.borderColor = "#419ce3";
		}
		fx("pad").onfocus = function(){
			fx("pad").style.borderColor = "#419ce3";
		}
		fx("code").onfocus = function(){
			fx("code").style.borderColor = "#419ce3";
		}
		fx("mess").onfocus = function(){
			fx("mess").style.borderColor = "#419ce3";
		}
		//表单失去焦点时
		fx("user").onblur = function(){
			fx("user").style.borderColor = "#ccc";
		}
		fx("pad").onblur = function(){
			fx("pad").style.borderColor = "#ccc";
		}
		fx("code").onblur = function(){
			fx("code").style.borderColor = "#ccc";
		}
		fx("mess").onblur = function(){
			fx("mess").style.borderColor = "#ccc";
		}
		//账号表单的value值改变时显示国旗
		fx("user").oninput = function(){
			var val = fx("user").value;
			var parseint = /\d/.exec(val);
			if(parseint == null){
				fx("userimg").style.display = "none";
			}else{
				fx("userimg").style.display = "block";
			}
		}
		//判断账号
		fx("pad").onclick = function(){
			var val = fx("user").value;
			var del = /^[1]{1}[3,4,7,5,8]{1}[0-9]{9}$/;
			var dal = del.test(val);
			if(dal){
				fx("user").style.borderColor = "#ccc";
				fx("box4p").style.opacity = "0";
			}else{
				fx("user").style.borderColor = "red";
				fx("box4p").style.opacity = "1";
			}
		}
		// 点击注册按钮时，判断账号密码是否符合条件
		fx("logup").onclick = function(){
			var sintval = fx("user").value;
			var padval = fx("pad").value;
			var codeval = fx("code").value;
			var messval = fx("mess").value;
			console.log(padval)
			if(padval == ""){
				fx("box4p").style.opacity = "1";
				fx("box4p").innerHTML = "请输入密码";
				return false
			}else if(padval.length < 6 || padval.length > 16){
				fx("box4p").style.opacity = "1";
				fx("box4p").innerHTML = "密码格式错误，密码格式为6-16位字母/数字/符号，不可设置为常见简单弱密码";
				return false
			}else if(codeval == ""){
				fx("box4p").style.opacity = "1";
				fx("box4p").innerHTML = "请输入验证码";
				return false
			}else if(messval == ""){
				fx("box4p").style.opacity = "1";
				fx("box4p").innerHTML = "请输入六位验证码";
				return false
			}else if(messval.length !=6){
				fx("box4p").style.opacity = "1";
				fx("box4p").innerHTML = "六位数的验证码格式错误";
				return false
			}else{
				fx("box4p").style.opacity = "0";
				fx("box4p").innerHTML = "请输入密码";
				return true
			}
		}
	</script>
</body>
</html>